var MobileMovement=function(){var e,t={alpha:0,beta:0,gamma:0,uninitialized:!0},a={alpha:0,beta:0,gamma:0},r=function(t){var a={on:{}};e=this,t||(t={});for(var r in a)t[r]=t[r]||a[r];this.registeredMovements={},this.monitoredMovements={},window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",i,!1),this.registerMovement("ball and paddle hit",[{beta:[-(1/0),4.9999]},{beta:[5,1/0]}]),this.registerMovement("basketball shot",[{beta:[90,1/0]},{beta:[0,75]}]),this.registerMovement("fishing line cast",[{beta:[90,1/0]},{beta:[0,75]}]),this.registerMovement("swing bat",[{alpha:60}]),this.registerMovement("upside down golf swing",[{beta:[-30,1/0]},{beta:[-(1/0),-85]}]),this.registerMovement("upside down golf putt",[{beta:[-75,1/0]},{beta:[-(1/0),-85]}]),this.registerMovement("basketball dribble",[{beta:[5,1/0]},{beta:[-(1/0),0]}]),this.registerMovement("headbang",[{gamma:[-(1/0),-75]},{gamma:[-65,1/0]}]),this.registerMovement("drum hit",[{beta:[30,1/0]},{beta:[-(1/0),10]}]),this.registerMovement("guitar strum",[{beta:[10,1/0]},{beta:[-(1/0),5]}]),this.registerMovement("left turn landscape",[{beta:[-5,1/0]},{beta:[-(1/0),-5]}]),this.registerMovement("right turn landscape",[{beta:[-(1/0),5]},{beta:[5,1/0]}]),this.registerMovement("left turn portrait",[{alpha:70}]),this.registerMovement("right turn portrait",[{alpha:-70}]),this.registerMovement("look up portrait",[{beta:[-(1/0),70]},{beta:[100,1/0]}]),this.registerMovement("look down portrait",[{beta:[51,1/0]},{beta:[-(1/0),50]}]),this.registerMovement("hadouken",[{beta:[150,1/0]},{beta:[-(1/0),110]}]),this.registerMovement("shoryuken",[{beta:[-(1/0),-155]},{beta:[-110,1/0]}]),this.registerMovement("vertical page flip",[{beta:[40,1/0]},{beta:[-(1/0),20]}]),this.registerMovement("football pass",[{beta:[5,1/0]},{beta:[-(1/0),-10]}]),this.registerMovement("door open back",[{gamma:[0,1/0]},{gamma:[-(1/0),0]}]),this.registerMovement("situp",[{beta:[-(1/0),10]},{beta:[45,1/0]}]),this.registerMovement("pushup",[{beta:[-(1/0),25]},{beta:[60,1/0]}]),this.registerMovement("punch",[{beta:[40,1/0]},{beta:[-(1/0),10]}]),this.registerMovement("spoon lift",[{beta:[-(1/0),-20]},{beta:[-10,1/0]}]),this.registerMovement("door opening front",[{gamma:[-(1/0),0]},{gamma:[0,1/0]}]),this.registerMovement("stab",[{beta:[-60,1/0]},{beta:[-(1/0),-70]}]),this.registerMovement("page turn",[{gamma:[0,1/0]},{gamma:[-(1/0),0]}]),this.registerMovement("ball roll",[{beta:[-(1/0),-90]},{beta:[-75,1/0]}]),this.registerMovement("pitch",[{beta:[90,1/0]},{beta:[-(1/0),40]}]),this.registerMovement("softball pitch",[{beta:[-(1/0),-25]},{beta:[-10,1/0]}]),this.registerMovement("yoyo down",[{beta:[0,1/0]},{beta:[-(1/0),0]}]),this.registerMovement("yoyo up",[{beta:[-(1/0),0]},{beta:[0,1/0]}]),this.registerMovement("hammer",[{beta:[22,1/0]},{beta:[-(1/0),12]}]),this.registerMovement("frisbee",[{alpha:-60}]),this.registerMovement("frisbee left",[{alpha:60}]),this.registerMovement("hadouken facing user",[{beta:[-(1/0),7]},{beta:[65,1/0]}]),this.registerMovement("hammer sideways",[{beta:[35,1/0]},{beta:[-(1/0),20]}]),this.registerMovement("frisbee left",[{alpha:-60}]),this.registerMovement("left turn landscape",[{beta:[0,1/0]},{beta:[-(1/0),-25]}]),this.registerMovement("right turn landscape",[{beta:[-(1/0),0]},{beta:[25,1/0]}]),this.registerMovement("soda shake",[{alpha:-40},{alpha:40}]),this.registerMovement("drink",[{beta:[120,1/0]},{beta:[-(1/0),112]}]),this.registerMovement("hose turn",[{beta:[-(1/0),4.9999]},{beta:[5,1/0]}]),this.registerMovement("drink pour",[{beta:[0,1/0]},{beta:[-(1/0),0]}]),this.registerMovement("selfie",[{beta:[103,145]}],function(){},2e3),this.registerMovement("broom sweep",[{gamma:[-45,1/0]},{gamma:[-(1/0),-60]}]),this.registerMovement("drink from bottle",[{beta:[0,1/0]},{beta:[-(1/0),-40]}]),this.registerMovement("dig",[{beta:[30,1/0]},{beta:[-(1/0),10]}]),this.registerMovement("bid",[{beta:[140,1/0]},{beta:[-(1/0),115]}]),this.registerMovement("bid facing self",[{beta:[-(1/0),30]},{beta:[70,1/0]}]),this.registerMovement("smoke",[{alpha:[-(1/0),265]},{alpha:[270,1/0]}]),this.registerMovement("knife throw",[{gamma:[0,1/0]},{gamma:[-(1/0),0]}]),this.registerMovement("draw gun",[{beta:[-(1/0),-60]},{beta:[-15,1/0]}]),this.registerMovement("run",[{gamma:[20,1/0]},{gamma:[-(1/0),-20]},{gamma:[20,1/0]},{gamma:[-(1/0),-20]}]),this.registerMovement("write",[{gamma:[20,1/0]},{gamma:[-(1/0),-20]}]);for(var n in t.on)t.on(n,t.on[n]);return e};r.prototype.constructor=r,r.prototype.on=function(e,t){return this.monitoredMovements[currentCallback]=this.registeredMovements[currentCallback],this.monitoredMovements[currentCallback].callback=t||function(){},this},r.prototype.off=function(e){return delete this.monitoredMovements[e],registeredMovements[e].reset(),this},r.prototype.registerMovement=function(e,t,a,r){this.registeredMovements[e]={path:t,currentState:0,watch:{},recoilTime:r||500,callback:a||function(){},reset:function(){this.currentState=0,this.callback=function(){}}};for(var i=0;i<t.length;i++)for(var n in t[i])this.registeredMovements[e].watch[n]=!0;return this};var i=function(r){var i,s,m,h=r.alpha||0,b=r.beta||0,g=r.gamma||0;t.uninitialized&&(t.alpha=h,t.beta=b,t.gamma=g,delete t.uninitialized),i=Math.abs(h-t.alpha),s=Math.abs(b-t.beta),m=Math.abs(g-t.gamma),h-t.alpha>300?t.alpha+=360:t.alpha-h>300&&(h+=360),b-t.beta>300?t.beta+=360:t.beta-b>300&&(b+=360),g-t.gamma>300?t.gamma+=360:t.gamma-g>300&&(g+=360),h>t.alpha?a.alpha>=0?a.alpha+=h-t.alpha:a.alpha=0:a.alpha<=0?a.alpha+=h-t.alpha:a.alpha=0,b>t.beta?a.beta>=0?a.beta+=b-t.beta:a.beta=0:a.beta<=0?a.beta+=b-t.beta:a.beta=0,g>t.gamma?a.gamma>=0?a.gamma+=g-t.gamma:a.gamma=0:a.gamma<=0?a.gamma+=g-t.gamma:a.gamma=0,h%=360,b%=360,g%=360;for(var l in e.monitoredMovements)n(r,l)&&o(e.monitoredMovements[l],l);t.alpha=h,t.beta=b,t.gamma=g},n=function(t,a){var r=(t.alpha,t.beta,t.gamma,e.monitoredMovements[a].currentState),i=e.monitoredMovements[a].path[r];return r>=e.monitoredMovements[a].path.length?!1:s(t,a,"alpha",i)&&s(t,a,"beta",i)&&s(t,a,"gamma",i)?!0:!1},s=function(t,r,i,n){if(!e.monitoredMovements[r].watch[i])return!0;if(Array.isArray(n[i])){if(n[i][0]<=t[i]&&t[i]<=n[i][1])return!0}else{if(n[i]>0&&a[i]>=n[i])return a[i]=0,!0;if(n[i]<0&&a[i]<=n[i])return a[i]=0,!0}return!1},o=function(t,a){t.currentState++,t.currentState===t.path.length&&(t.callback(),setTimeout(function(){e.monitoredMovements[a]&&(e.monitoredMovements[a].currentState=0)},e.monitoredMovements[a].recoilTime))};return r}();